function TemplateFieldAddDialog(){var a=$(this),b=!1,c=pwModalWindow(a.attr("href"),{},"large");return c.load(function(){var a=[],d=c.contents(),e=0;d.find("#breadcrumbs ul.nav, #Inputfield_submit_save_field_copy").hide(),d.find("#content form button.ui-button[type=submit]").each(function(){var c=$(this),d=c.text(),f=!1;for(i=0;i<a.length;i++)(a[i].text==d||d.length<1)&&(f=!0);f||(a[e]={text:d,class:c.is(".ui-priority-secondary")?"ui-priority-secondary":"",click:function(){c.click(),b=!0}},e++),c.hide()}),b&&(a[e]={text:"Close & Add",class:$button.is(".ui-priority-secondary")?"ui-priority-secondary":"",click:function(){setTimeout(function(){var a=d.find("#Inputfield_id:last").val();c.dialog("close");var b=$("#fieldgroup_fields option").size();$("#fieldgroup_fields option").eq(1).before($("<option></option>").val(a).text(d.find("#Inputfield_name").val())),$('#fieldgroup_fields option[value="'+a+'"]').attr("id","asm0option"+b).attr("data-desc",d.find("#field_label").val()).attr("data-status",d.find("#Inputfield_type option:selected").text()),$("#asmSelect0 option").eq(1).before($("<option></option>").val(a).text(d.find("#Inputfield_name").val())),$("#asmSelect0").find("option:selected").removeAttr("selected"),$('#asmSelect0 option[value="'+a+'"]').attr("rel","asm0option"+b).attr("selected","selected").addClass("asmOptionDisabled").attr("disabled","disabled").trigger("change").removeAttr("selected")},500)}}),c.setButtons(a)}),!1}$(document).ready(function(){$("#wrap_fieldgroup_fields p.description a").click(TemplateFieldAddDialog)});
var ProcessWireAdminTheme={init:function(){var e=$("#head_button > button.pw-dropdown-toggle").hide();this.setupCloneButton(),ProcessWireAdmin.init(),this.setupSearch(),this.setupMobile();var t=$("body");t.hasClass("hasWireTabs")&&0==$("ul.WireTabs").length&&t.removeClass("hasWireTabs"),$("#content").removeClass("pw-fouc-fix"),t.removeClass("pw-init").addClass("pw-ready"),e.length>0&&e.show()},setupCloneButton:function(){if(!$("body").is(".modal")){var e=$("button.pw-head-button, button.head_button_clone");if(0!=e.length){var t=$("#head_button");0==t.length&&(t=$("<div id='head_button'></div>").prependTo("#breadcrumbs .pw-container")),e.each(function(){var e,a=$(this),i=a.parent("a");i.length>0?(e=a.parent("a").clone(!0),t.prepend(e)):(a.hasClass("pw-head-button")||a.hasClass("head_button_clone"))&&(e=a.clone(!0),e.attr("data-from_id",a.attr("id")).attr("id",a.attr("id")+"_copy"),e.click(function(){return $("#"+$(this).attr("data-from_id")).click(),!1}),t.prepend(e))}),t.show()}}},setupSearch:function(){$.widget("custom.adminsearchautocomplete",$.ui.autocomplete,{_renderMenu:function(e,t){var a=this,i="";e.attr("id","ProcessPageSearchAutocomplete"),$.each(t,function(t,n){n.type!=i&&($("<li>"+n.type+"</li>").addClass("ui-widget-header").appendTo(e),i=n.type),a._renderItemData(e,n)})},_renderItem:function(e,t){return t.label==t.template&&(t.template=""),$("<li>").append("<a href='"+t.edit_url+"'>"+t.label+" <small>"+t.template+"</small></a></li>").appendTo(e)}});var e=$("#ProcessPageSearchQuery"),t=$("#ProcessPageSearchStatus");e.adminsearchautocomplete({minLength:2,position:{my:"right top",at:"right bottom"},search:function(e,a){t.html("<img src='"+ProcessWire.config.urls.modules+"Process/ProcessPageList/images/loading.gif'>")},open:function(e,t){$("#topnav").hide()},close:function(e,t){$("#topnav").show()},source:function(a,i){var n=e.parents("form").attr("data-action")+"for?get=template_label,title&include=all&admin_search="+a.term;$.getJSON(n,function(e){var a=e.matches.length;a<e.total?t.text(e.matches.length+"/"+e.total):t.text(a),i($.map(e.matches,function(e){return{label:e.title,value:e.title,page_id:e.id,template:e.template_label?e.template_label:"",edit_url:e.editUrl,type:e.type}}))})},select:function(e,t){e.preventDefault(),window.location=t.item.edit_url}}).focus(function(){$(this).siblings("label").find("i").hide()}).blur(function(){t.text(""),$(this).siblings("label").find("i").show()})},setupMobile:function(){var e=0,t=0,a=function(){var a=$("#topnav"),i=$("body"),n=a.height();if(n>50)i.hasClass("collapse-topnav")||(i.addClass("collapse-topnav"),e=i.width());else if(e>0){var s=i.width();i.hasClass("collapse-topnav")&&s>e&&(i.removeClass("collapse-topnav"),e=0)}a.children(".collapse-topnav-menu").children("a").click(function(){return $(this).is(".hover")?$(this).mouseleave():$(this).mouseenter(),!1});var o=$(".WireTabs");o.length<1||o.each(function(){var e=$(this),a=e.height();if(a>65)i.hasClass("collapse-wiretabs")||(i.addClass("collapse-wiretabs"),t=i.width());else if(t>0){var n=i.width();i.hasClass("collapse-wiretabs")&&n>t&&(i.removeClass("collapse-wiretabs"),t=0)}})};a(),$(window).resize(a)}};$(document).ready(function(){ProcessWireAdminTheme.init(),$("a.notice-remove","#notices").click(function(){return $("#notices").slideUp("fast",function(){$(this).remove()}),!1})});